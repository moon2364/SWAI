<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/gh/dinoqqq/simple-popup@master/dist/jquery.simple-popup.min.css" rel="stylesheet"
    type="text/css" />

  <title>Space Dynamic - SEO HTML5 Template</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="assets/css/fontawesome.css">
  <link rel="stylesheet" href="assets/css/templatemo-space-dynamic.css">
  <link rel="stylesheet" href="assets/css/animated.css">
  <link rel="stylesheet" href="assets/css/owl.css">
  <!--
    
TemplateMo 562 Space Dynamic

https://templatemo.com/tm-562-space-dynamic

-->
</head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky wow slideInDown" data-wow-duration="0.75s" data-wow-delay="0s">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <!-- ***** Logo Start ***** -->
            <a href="index.html" class="logo">
              <h4>INTERV<span>MATE</span></h4>
            </a>
            <!-- ***** Logo End ***** -->
          </nav>
        </div>
      </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <div class="main-banner wow fadeIn" id="top" data-wow-duration="1s" data-wow-delay="0.5s">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="row">
            <div class="col-lg-6 align-self-center">
              <div class="left-content header-text wow fadeInLeft" data-wow-duration="1s" data-wow-delay="1s">
                <h6>INTERVMATEì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</h6>
                <h2><span>AI</span>ì™€ í•¨ê»˜ ë‹¤ìŒ <em>ë©´ì ‘</em>ì„ í™•ì‹¤í•˜ê²Œ ì¤€ë¹„í•˜ì„¸ìš”</h2>
                <p>IntervMateëŠ” ë‹¨ìˆœí•œ ëª¨ì˜ë©´ì ‘ ë„ìš°ë¯¸ê°€ ì•„ë‹™ë‹ˆë‹¤.<br>
                  AIê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œì„ , í‘œì •, ë§íˆ¬ë¥¼ ë¶„ì„í•˜ê³ ,
                  ë‹¹ì‹ ì˜ ë‹µë³€ì— ë§ì¶° í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤.<br>
                  ìì‹  ìˆê²Œ ë§í•˜ëŠ” ì—°ìŠµë¶€í„° ë©´ì ‘ê´€ì˜ ì‹œì„ ì— ìµìˆ™í•´ì§€ëŠ” í›ˆë ¨ê¹Œì§€,
                  IntervMateê°€ ë‹¹ì‹ ì˜ ë©´ì ‘ì„ ì™„ì„±ìœ¼ë¡œ ì´ëŒì–´ì¤ë‹ˆë‹¤.</p>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="right-image wow fadeInRight" data-wow-duration="1s" data-wow-delay="0.5s">
                <img src="assets/images/banner-right-image.png" alt="team meeting">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="about" class="about-us section">
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <div class="left-image wow fadeIn" data-wow-duration="1s" data-wow-delay="0.2s">
            <img src="assets/images/about-left-image.png" alt="person graphic">
          </div>
        </div>
        <div class="col-lg-8 align-self-center">
          <div class="services">
            <div class="row">
              <div class="col-lg-6">
                <div class="item wow fadeIn" data-wow-duration="1s" data-wow-delay="0.5s">
                  <div class="icon">
                    <img src="assets/images/service-icon-01.png" alt="reporting">
                  </div>
                  <div class="right-text">
                    <h4>ì„±ì¥ ê¸°ë°˜ ë§ì¶¤í˜• ë¶„ì„</h4>
                    <p>ì´ì „ ë©´ì ‘ê³¼ í˜„ì¬ ë‹µë³€ì„ í•¨ê»˜ ë¶„ì„í•´,
                      ì„±ì¥ê³¼ ê°œì„  í¬ì¸íŠ¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="item wow fadeIn" data-wow-duration="1s" data-wow-delay="0.7s">
                  <div class="icon">
                    <img src="assets/images/service-icon-02.png" alt="">
                  </div>
                  <div class="right-text">
                    <h4>ë‚˜ë§Œì„ ìœ„í•œ AI ë§ì¶¤ ì§ˆë¬¸</h4>
                    <p>ì§€ì›í•œ ì§ë¬´ì™€ ìê¸°ì†Œê°œì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ
                      ì‹¤ì œ ë©´ì ‘í˜• ì§ˆë¬¸ì„ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.</p>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="item wow fadeIn" data-wow-duration="1s" data-wow-delay="0.9s">
                  <div class="icon">
                    <img src="assets/images/service-icon-03.png" alt="">
                  </div>
                  <div class="right-text">
                    <h4>ë©´ì ‘ ë¶„ìœ„ê¸°ë„ ë‚´ ë§ˆìŒëŒ€ë¡œ</h4>
                    <p>ëƒ‰ì² í•œ ë©´ì ‘ê´€ë¶€í„° ì¹œê·¼í•œ ì½”ì¹˜í˜•ê¹Œì§€,
                      ì›í•˜ëŠ” ì„±í–¥ì˜ AI ë©´ì ‘ê´€ê³¼ ì—°ìŠµí•˜ì„¸ìš”.</p>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="item wow fadeIn" data-wow-duration="1s" data-wow-delay="1.1s">
                  <div class="icon">
                    <img src="assets/images/service-icon-04.png" alt="">
                  </div>
                  <div class="right-text">
                    <h4>ì‹¤ì‹œê°„ í”¼ë“œë°± Mate ëª¨ë“œ</h4>
                    <p>ì‹œì„  ì²˜ë¦¬, ì¡°ëª…, í‘œì • ë“±ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€í•´
                      ë©´ì ‘ ì¤‘ ì¦‰ê° í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="services" class="our-services section">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 align-self-center  wow fadeInLeft" data-wow-duration="1s" data-wow-delay="0.2s">
          <div class="left-image">
            <img src="assets/images/services-left-image.png" alt=""
              style="border: 2px solid black; border-radius: 15px;">
          </div>
        </div>
        <div class="col-lg-6 wow fadeInRight" data-wow-duration="1s" data-wow-delay="0.2s">
          <div class="section-heading">
            <h2><span>AI</span> ê¸°ë°˜ ëª¨ì˜ë©´ì ‘ í”Œë«í¼ <em>IntervMate</em> ì™€ í•¨ê»˜ ì‹¤ì „ì²˜ëŸ¼ ì—°ìŠµí•˜ì„¸ìš”.</h2>
            <p>IntervMateëŠ” ì§€ì› ì§ë¬´ì™€ ìê¸°ì†Œê°œì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë©´ì ‘ì—ì„œ ë‚˜ì˜¬ ê°€ëŠ¥ì„±ì´ ë†’ì€ ì§ˆë¬¸ì„ ì œì‹œí•˜ê³ ,
              ë©´ì ‘ê´€ì˜ ì„±í–¥(ë”±ë”±í•œ / ì¹œê·¼í•œ / ì¤‘ë¦½ì )ì„ ì„ íƒí•´ ì‹¤ì œ ë©´ì ‘ê³¼ ìœ ì‚¬í•œ ë¶„ìœ„ê¸°ë¡œ ì—°ìŠµí•  ìˆ˜ ìˆëŠ” AI ê¸°ë°˜ ëª¨ì˜ë©´ì ‘ í”Œë«í¼ì…ë‹ˆë‹¤.
              <br><br>
              ë©´ì ‘ì´ ì‹œì‘ë˜ë©´ AIê°€ ë©´ì ‘ê´€ ì—­í• ì„ ë§¡ì•„ ì‚¬ìš©ìì˜ ë‹µë³€ì„ ë“£ê³ ,
              ì§ˆë¬¸ì„ ë˜ì§€ë©° ì‹¤ì œ ë©´ì ‘ì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” íë¦„ì„ ì´ì–´ê°‘ë‹ˆë‹¤.
              ë©´ì ‘ ì¤‘ì—ëŠ” ì¹´ë©”ë¼ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì‹œì„ , í‘œì •, ë§íˆ¬, ì†ë„, ìì„¸, ì¡°ëª… ìƒíƒœ ë“±ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¶„ì„í•˜ì—¬
              ë§ˆì¹˜ ì‹¤ì œ ë©´ì ‘ê´€ ì•ì— ìˆëŠ” ë“¯í•œ ëª°ì…ê° ìˆëŠ” í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.
              <br><br>
              íŠ¹íˆ, IntervMateì˜ AI ë©´ì ‘ê´€ì€ ë‹¨ìˆœíˆ ì§ˆë¬¸ë§Œ ë˜ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼
              ì‚¬ìš©ìì˜ ë°˜ì‘ê³¼ ë§í•˜ê¸° ìŠ¤íƒ€ì¼ì„ íŒŒì•…í•´,
              ê¸´ì¥ëœ ìƒí™©ì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ë§í•˜ëŠ” ìŠµê´€ì„ ê¸°ë¥¼ ìˆ˜ ìˆë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="services-2" class="our-services section">
    <div class="container">
      <div class="row">
        <!-- âœ… ì™¼ìª½: ë‚´ìš© -->
        <div class="col-lg-6 wow fadeInLeft" data-wow-duration="1s" data-wow-delay="0.2s">
          <div class="section-heading">
            <h2><span>AI</span> ì½”ì¹­ ì‹œìŠ¤í…œ <em>IntervMate Coach</em>ë¡œ í•œ ë‹¨ê³„ ì„±ì¥í•˜ì„¸ìš”</h2>
            <p>
              IntervMate CoachëŠ” ë©´ì ‘ ì¤‘ ê¸°ë¡ëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ì‚¬ìš©ìì˜ ë‹µë³€ íƒœë„ì™€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠµê´€ì„ ì •ë°€í•˜ê²Œ ë¶„ì„í•©ë‹ˆë‹¤.
              ë‹¨ìˆœíˆ ì ìˆ˜ë§Œ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë§íˆ¬Â·ì†ë„Â·ì‹œì„ Â·í‘œì •Â·ì œìŠ¤ì²˜ ë“± ë‹¤ì–‘í•œ ìš”ì†Œë¥¼ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ì—¬
              ì–´ë–¤ ë¶€ë¶„ì´ ê°•ì ì´ê³ , ì–´ë–¤ ë¶€ë¶„ì´ ê°œì„ ì´ í•„ìš”í•œì§€ êµ¬ì²´ì ìœ¼ë¡œ ì•Œë ¤ì¤ë‹ˆë‹¤.
              <br><br>
              AIëŠ” ì‚¬ìš©ìì˜ ë°œí™” ë¦¬ë“¬ê³¼ ë¬¸ì¥ íë¦„ì„ ì¸ì‹í•´ ìì—°ìŠ¤ëŸ¬ìš´ ë§í•˜ê¸° íŒ¨í„´ì„ í•™ìŠµí•  ìˆ˜ ìˆë„ë¡ ìœ ë„í•˜ë©°,
              í‘œì •ì´ë‚˜ ì‹œì„ ì˜ ì›€ì§ì„ì„ ë¶„ì„í•´ ë©´ì ‘ê´€ì—ê²Œ ì‹ ë¢°ê°ê³¼ ìì‹ ê°ì„ ì£¼ëŠ” ë¹„ì–¸ì–´ì  í‘œí˜„ ìŠµê´€ì„ í•¨ê»˜ ê°œì„ ì‹œì¼œì¤ë‹ˆë‹¤.
              <br><br>
              ë˜í•œ ê° í•­ëª©ë³„ë¡œ ì„¸ë¶„í™”ëœ ê²°ê³¼ë¥¼ ì œê³µí•˜ì—¬,
              â€œì™œ ì´ ì ìˆ˜ê°€ ë‚˜ì™”ëŠ”ì§€â€ë¥¼ ëª…í™•íˆ ì´í•´í•˜ê³  ë‹¤ìŒ ë©´ì ‘ì— ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ì§ˆì ì¸ ê°œì„  ê°€ì´ë“œë¥¼ ì œì‹œí•©ë‹ˆë‹¤.
            </p>
          </div>
        </div>

        <!-- âœ… ì˜¤ë¥¸ìª½: ì´ë¯¸ì§€ -->
        <div class="col-lg-6 align-self-center wow fadeInRight" data-wow-duration="1s" data-wow-delay="0.2s">
          <div class="right-image">
            <img src="assets/images/services-right-image.png" alt=""
              style="border: 2px solid black; border-radius: 15px;">
          </div>
        </div>
      </div>
    </div>

  </div>


  <div id="portfolio" class="our-portfolio section">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 offset-lg-3">
          <div class="section-heading  wow bounceIn" data-wow-duration="1s" data-wow-delay="0.2s">
            <h2><em>IntervMate</em>ê°€ ë§Œë“  ë³€í™”, ë‹¹ì‹ ì˜ <span>ë©´ì ‘ ê²½ìŸë ¥</span></h2>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3 col-sm-6">
          <a href="#">
            <div class="item wow bounceInUp" data-wow-duration="1s" data-wow-delay="0.3s">
              <div class="hidden-content">
                <h4>ë©´ì ‘ ìì‹ ê° í–¥ìƒ</h4>
                <p>AI í”¼ë“œë°±ì„ ë°˜ë³µ ê²½í—˜í•˜ë©´ì„œ ì‹œì„ Â·ë°œìŒÂ·í‘œì • ì œì–´ê°€ ìì—°ìŠ¤ëŸ¬ì›Œì§€ê³ , ì‹¤ì œ ë©´ì ‘ì—ì„œì˜ ê¸´ì¥ë„ê°€ ê°ì†Œí•©ë‹ˆë‹¤.</p>
              </div>
              <div class="showed-content">
                <img src="assets/images/i1.png" alt="">
              </div>
            </div>
          </a>
        </div>
        <div class="col-lg-3 col-sm-6">
          <a href="#">
            <div class="item wow bounceInUp" data-wow-duration="1s" data-wow-delay="0.4s">
              <div class="hidden-content">
                <h4>ë‹µë³€ ì™„ì„±ë„ ë° ì „ë‹¬ë ¥ ê°•í™”</h4>
                <p>ì§ˆë¬¸ ëŒ€ì‘ íŒ¨í„´ì´ ë¶„ì„ë˜ì–´, ë…¼ë¦¬ì Â·ì„¤ë“ë ¥ ìˆëŠ” ë§í•˜ê¸° êµ¬ì¡°ë¡œ ê°œì„ ë©ë‹ˆë‹¤.</p>
              </div>
              <div class="showed-content">
                <img src="assets/images/i2.png" alt="">
              </div>
            </div>
          </a>
        </div>
        <div class="col-lg-3 col-sm-6">
          <a href="#">
            <div class="item wow bounceInUp" data-wow-duration="1s" data-wow-delay="0.5s">
              <div class="hidden-content">
                <h4>ì¤€ë¹„ íš¨ìœ¨ ê·¹ëŒ€í™”</h4>
                <p>AIê°€ í•µì‹¬ ì§ˆë¬¸ì„ ì¶”ì²œí•˜ê³  í”¼ë“œë°±ì„ ì •ë¦¬í•´ì£¼ê¸° ë•Œë¬¸ì—, ì ì€ ì—°ìŠµìœ¼ë¡œë„ ì‹¤ì œ ë©´ì ‘ ëŒ€ë¹„ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
              </div>
              <div class="showed-content">
                <img src="assets/images/i3.png" alt="">
              </div>
            </div>
          </a>
        </div>
        <div class="col-lg-3 col-sm-6">
          <a href="#">
            <div class="item wow bounceInUp" data-wow-duration="1s" data-wow-delay="0.6s">
              <div class="hidden-content">
                <h4>ì‹¤ì œ ë©´ì ‘ í•©ê²©ë¥  í–¥ìƒ</h4>
                <p>ìì‹ ì˜ ì•½ì ì„ ëª…í™•íˆ ì¸ì‹í•˜ê³  ê°œì„ í•˜ë©°, ì‹¤ì „ ë©´ì ‘ì—ì„œ ë” ì•ˆì •ì ì´ê³  ì¼ê´€ëœ í¼í¬ë¨¼ìŠ¤ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
              </div>
              <div class="showed-content">
                <img src="assets/images/i4.png" alt="">
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="slogan">
    í”¼ë“œë°±ì€ ì¦‰ì‹œ,<br>
    ë³€í™”ëŠ” ê¾¸ì¤€íˆ,<br>
    <strong>IntervMate Coach</strong>ì™€ í•¨ê»˜ ì„±ì¥í•˜ì„¸ìš”.
  </div>
  <style>
    .slogan {
      margin-top: 150px;
      text-align: center;
      font-size: 24px;
      /* í•„ìš”ì‹œ 18~24pxë¡œ ì¡°ì • */
      line-height: 1.6;
      font-weight: 500;
    }

    .slogan strong {
      font-weight: 700;
    }
  </style>
  </div>
  <!-- ***** Demo Section Start ***** -->
  <div id="demo" class="section" style="padding: 80px 0; background-color: #f8f9fa;">
    <div class="container" style="max-width: 600px;">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading wow bounceIn" data-wow-duration="1s" data-wow-delay="0.2s">
            <h2>IntervMate <span>Live Demo</span></h2>
            <p>AI ë©´ì ‘ê´€ê³¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëŒ€í™”í•´ë³´ì„¸ìš”. ë©´ì ‘ê´€ ì„±í–¥ì„ ì„ íƒí•˜ê³  ë©´ì ‘ì„ ì‹œì‘í•˜ì„¸ìš”.</p>
          </div>
        </div>
      </div>
      <div class="candidate-info-box" style="margin: 15px auto; max-width : 600px;text-align:left;">
        <label for="candidateRole"><strong>ì§€ì› ì§ë¬´</strong></label>
        <input id="candidateRole" type="text" class="form-control" placeholder="ì˜ˆ: ë°±ì—”ë“œ ê°œë°œì / ë°ì´í„° ë¶„ì„ê°€"
          style="max-width: 600px;">

        <label for="candidateIntro" style="margin-top:10px;"><strong>ë³¸ì¸ ì†Œê°œ / ì£¼ìš” ê²½í—˜</strong></label>
        <textarea id="candidateIntro" class="form-control" placeholder="ê°„ë‹¨í•œ ìê¸°ì†Œê°œ, ì£¼ìš” í”„ë¡œì íŠ¸/ê²½í—˜, ê°•ì  ë“±ì„ ì ì–´ì£¼ì„¸ìš”." rows="3"
          style="max-width: 600px;"></textarea>
      </div>
      <br>
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <!-- Persona Selection -->
          <div class="persona-selector text-center mb-4">
            <div class="btn-group" role="group" aria-label="Persona Selection">
              <button type="button" class="btn btn-outline-secondary active" onclick="setPersona('neutral', this)">ğŸ˜
                Neutral (ì¤‘ë¦½)</button>
              <button type="button" class="btn btn-outline-danger" onclick="setPersona('strict', this)">ğŸ˜  Strict
                (ì••ë°•)</button>
              <button type="button" class="btn btn-outline-success" onclick="setPersona('friendly', this)">ğŸ˜Š Friendly
                (ì¹œê·¼)</button>
            </div>
          </div>
          <!-- Controls -->
          <div class="controls text-center mb-4">
            <button id="startBtn" class="btn btn-primary btn-lg" onclick="startInterview()">ğŸ¤ Start
              Interview</button>
            <button id="stopBtn" class="btn btn-danger btn-lg" onclick="stopInterview()" style="display:none;">ğŸ›‘
              Stop</button>
            <!-- <p id="statusText" class="mt-2 text-muted">ì¹´ë©”ë¼ì™€ ë§ˆì´í¬ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.</p> -->
          </div>

          <!-- Video Area -->
          <div class="video-area d-flex justify-content-between mb-4" style="gap: 20px; flex-wrap: wrap;">
            <div class="video-box" style="flex: 1; min-width: 300px; position: relative;">
              <video id="userVideo" autoplay playsinline muted
                style="width: 100%; border-radius: 15px; border: 2px solid #ddd; background: #000; transform: scaleX(-1);"></video>
              <!-- âœ… ì‹¤ì‹œê°„ í”¼ë“œë°± ì˜¤ë²„ë ˆì´ -->
              <div id="liveFeedback" style="position:absolute; top:10px; left:10px; 
              background:rgba(0,0,0,0.6); color:#fff;
              padding:8px 10px; border-radius:8px;
              font-size:12px; line-height:1.4;">
                ì¡°ëª… ë¶„ì„ ì¤‘...<br>
                ë§ ì†ë„ ë¶„ì„ ì¤‘...
              </div>
              <!-- ì‹¤ì‹œê°„ í”¼ë“œë°± ì˜¤ë²„ë ˆì´ -->
              <div id="aiSpeakingIndicator" style="position:absolute; top:10px; right:10px; width:12px; height:12px; border-radius:50%;
                       background:#28a745; display:none; box-shadow:0 0 6px #28a745;">
              </div>
              <div class="label"
                style="position: absolute; bottom: 10px; left: 10px; background: rgba(0,0,0,0.5); color: white; padding: 5px 10px; border-radius: 5px;">
                You</div>
            </div>
            <div class="ai-status text-center mb-3">
              <span id="aiStatusDot"></span>
              <span id="aiStatusText">ëŒ€ê¸° ì¤‘</span><br>
              <button class="btn btn-outline-secondary mt-2" onclick="commitVoiceAnswer()">
                ë‹µë³€ ì „ì†¡
              </button>

            </div>
          </div>

          <!-- Transcript -->
          <div class="transcript-box p-3"
            style="background: white; border-radius: 10px; height: 200px; overflow-y: auto; border: 1px solid #eee; text-align: left;">
            <div id="chatLog"></div>
          </div>
          <!-- ***** Text Chat Test ***** -->
          <div class="text-chat-test text-center mb-4" style="margin-top: 40px;">
            <p class="text-muted">ìŒì„± ì—†ì´ í…ìŠ¤íŠ¸ë¡œ ë‹µë³€ì„ ë³´ë‚´ ë©´ì ‘ì„ ì§„í–‰í•´ë³´ì„¸ìš”.</p>

            <input id="textInput" type="text" placeholder="ì—¬ê¸°ì— ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”..." class="form-control"
              style="max-width: 600px; margin: 10px auto;">

            <button class="btn btn-primary mt-2" onclick="sendTextChat()">
              Send
            </button>
            <!-- ë²„íŠ¼ í•˜ë‚˜ë§Œ ì¶”ê°€ -->
            <center style="margin-top:20px;">
              <button onclick="micTest()" class="btn btn-warning">ğŸ¤ ë§ˆì´í¬ í…ŒìŠ¤íŠ¸</button>
            </center>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // ì‹¤ì‹œê°„ í”¼ë“œë°±
    let pendingSpeech = "";   // ìŒì„±ìœ¼ë¡œ ìŒ“ì´ëŠ” ì„ì‹œ ë‹µë³€

    let brightnessTimer = null;
    let videoCanvas = null;
    let videoCtx = null;
    let speechStartTime = null;
    let hasSpokenBefore = false;

    function startBrightnessMonitor() {
      if (!videoCtx) return;
      const videoEl = document.getElementById('userVideo');

      // 0.2ì´ˆë§ˆë‹¤ í•œ í”„ë ˆì„ì”© ë¶„ì„
      brightnessTimer = setInterval(() => {
        if (videoEl.readyState < 2) return; // ì•„ì§ ì¤€ë¹„ ì•ˆëìœ¼ë©´ íŒ¨ìŠ¤

        // ìº”ë²„ìŠ¤ì— í˜„ì¬ í”„ë ˆì„ ê·¸ë¦¬ê¸°
        videoCtx.drawImage(videoEl, 0, 0, videoCanvas.width, videoCanvas.height);
        const frame = videoCtx.getImageData(0, 0, videoCanvas.width, videoCanvas.height);
        const data = frame.data;

        let sum = 0;
        // RGBA 4ë°”ì´íŠ¸ì”© â†’ ë°ê¸°ëŠ” R,G,B í‰ê· ìœ¼ë¡œ ëŒ€ì¶© ê³„ì‚°
        for (let i = 0; i < data.length; i += 4) {
          const r = data[i];
          const g = data[i + 1];
          const b = data[i + 2];
          const v = (r + g + b) / 3;
          sum += v;
        }

        const avg = sum / (data.length / 4); // 0~255
        let lightingText = '';
        if (avg < 60) {
          lightingText = 'ì¡°ëª…ì´ ì–´ë‘ì›Œìš”. ì–¼êµ´ì´ ë³´ì´ë„ë¡ ë°ê¸°ë¥¼ ì˜¬ë ¤ë³´ì„¸ìš”.';
        } else if (avg < 110) {
          lightingText = 'ì¡°ëª…ì´ ì•½ê°„ ì–´ë‘ìš´ í¸ì…ë‹ˆë‹¤.';
        } else if (avg > 210) {
          lightingText = 'ì¡°ëª…ì´ ë„ˆë¬´ ë°ì•„ì„œ ì–¼êµ´ì´ ì•ˆ ë³´ì¼ ìˆ˜ ìˆì–´ìš”.';
        } else {
          lightingText = 'ì¡°ëª…ì€ ê´œì°®ì€ í¸ì…ë‹ˆë‹¤.';
        }

        updateLiveFeedback({ lightingText });
      }, 200);
    }

  </script>
  <script>
    addrScript = 'https://script.google.com/macros/s/AKfycbw8XVAimgHy3roV2fMhgXVBdZ8NhHCU9XgiJrzl02lvq4iwlrkYtFCCBf6Ht_AL2DdU/exec';
    const CHAT_API_URL = addrScript;
    // ë§ˆì´í¬ í…ŒìŠ¤íŠ¸: ìŒì„± ì¸ì‹ ê²°ê³¼ë¥¼ ì½˜ì†”ê³¼ í™”ë©´ì— í‘œì‹œ
    function micTest() {
      if (!('webkitSpeechRecognition' in window)) {
        alert("ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì¸ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Chromeì„ ì‚¬ìš©í•˜ì„¸ìš”.");
        return;
      }

      const testRec = new webkitSpeechRecognition();
      testRec.continuous = false;
      testRec.lang = 'ko-KR';
      testRec.interimResults = false;

      addToChatLog("System", "ğŸ¤ ë§ˆì´í¬ í…ŒìŠ¤íŠ¸ ì‹œì‘! ì§€ê¸ˆ ë§í•´ë³´ì„¸ìš”.");

      testRec.onresult = function (e) {
        const text = e.results[0][0].transcript;
        addToChatLog("System", "ë§ˆì´í¬ ì¸ì‹ë¨: " + text);
        console.log("MIC RESULT:", text);
      };

      testRec.onerror = function (e) {
        addToChatLog("System", "ë§ˆì´í¬ ì˜¤ë¥˜: " + JSON.stringify(e));
        console.error("MIC ERROR:", e);
      };

      testRec.start();
    }
    function analyzeSpeechSpeed(text) {
      const now = Date.now();

      // ê¸€ì(ìëª¨) ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ëŒ€ì¶© ì†ë„ ì¸¡ì •
      const charCount = text.replace(/\s+/g, '').length; // ê³µë°± ì œê±°
      let feedback = '';

      if (!hasSpokenBefore) {
        hasSpokenBefore = true;   // ì´í›„ë¶€í„°ëŠ” í‰ê°€ ì‹œì‘
        feedback = 'ì²« ë°œí™”ì…ë‹ˆë‹¤. ë§í•˜ëŠ” ì†ë„ë¥¼ ê³„ì† ëª¨ë‹ˆí„°ë§í• ê²Œìš”.';
        updateLiveFeedback({ speedText: feedback });
        lastSpeechTime = now;     // ê¸°ì¤€ ì‹œê°„ë§Œ ê¸°ë¡
        return;                   // â— ì—¬ê¸°ì„œ í•¨ìˆ˜ ì¢…ë£Œ â†’ ì•„ë˜ ê³„ì‚° ì•ˆ í•¨
      }

      if (speechStartTime) {
        const diffSec = (now - speechStartTime) / 1000;
        const cps = charCount / Math.max(0.5, diffSec); // chars per second

        // ê²½í—˜ì¹˜ë¡œ ëŒ€ì¶© ë‚˜ëˆ” (í•„ìš”í•˜ë©´ ë‚˜ì¤‘ì— ì¡°ì •)
        if (cps > 6) {
          feedback = 'ë§ ì†ë„ê°€ ë§ì´ ë¹ ë¥¸ í¸ì…ë‹ˆë‹¤. ì²œì²œíˆ ë§í•´ë³´ì„¸ìš”.';
        } else if (cps > 4) {
          feedback = 'ì¡°ê¸ˆ ë¹ ë¥¸ í¸ì…ë‹ˆë‹¤.';
        } else if (cps < 2) {
          feedback = 'ë§ ì†ë„ê°€ ë‹¤ì†Œ ëŠë¦½ë‹ˆë‹¤. ì•½ê°„ ë¹ ë¥´ê²Œ ë§í•´ë³´ì„¸ìš”.';
        } else {
          feedback = 'ë§ ì†ë„ëŠ” ì ë‹¹í•œ í¸ì…ë‹ˆë‹¤.';
        }
      } else {
        feedback = 'ì²« ë°œí™”ì…ë‹ˆë‹¤. ë§í•˜ëŠ” ì†ë„ë¥¼ ê³„ì† ëª¨ë‹ˆí„°ë§í• ê²Œìš”.';
      }

      speechStartTime = null;

      updateLiveFeedback({ speedText: feedback });
    }
    // liveFeedbackì— ì¡°ëª…/ì†ë„ ë©”ì‹œì§€ í•©ì³ì„œ ì¶œë ¥
    let latestLightingText = 'ì¡°ëª… ë¶„ì„ ì¤‘...';
    let latestSpeedText = 'ë§ ì†ë„ ë¶„ì„ ì¤‘...';

    function updateLiveFeedback({ lightingText, speedText }) {
      if (lightingText) latestLightingText = lightingText;
      if (speedText) latestSpeedText = speedText;

      const box = document.getElementById('liveFeedback');
      if (!box) return;

      box.innerHTML =
        `<div><strong>ì¡°ëª…</strong> : ${latestLightingText}</div>` +
        `<div><strong>ë§ ì†ë„</strong> : ${latestSpeedText}</div>`;
    }


  </script>


  <!-- ***** Demo Section End ***** -->

  <div id="contact" class="contact-us section">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 align-self-center wow fadeInLeft" data-wow-duration="0.5s" data-wow-delay="0.25s">
          <div class="section-heading">
            <h2>ê³§ ì°¾ì•„ì˜¬ IntervMate, ë¨¼ì € ë§Œë‚˜ë³´ì„¸ìš”!</h2>
            <p>ì´ë©”ì¼ì„ ë‚¨ê²¨ì£¼ì‹œë©´ ëŸ°ì¹­ ì†Œì‹ì„ ë¹ ë¥´ê²Œ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.<br>
              â€œì´ëŸ° ë©´ì ‘ ì—°ìŠµ ê¸°ëŠ¥ì´ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤!â€ëŠ” ì˜ê²¬ë„ í™˜ì˜í•©ë‹ˆë‹¤.<br>
              ì—¬ëŸ¬ë¶„ì˜ í•œë§ˆë””ê°€ ì„œë¹„ìŠ¤ë¥¼ ë” ë©‹ì§€ê²Œ ë°”ê¿‰ë‹ˆë‹¤.</p>

            <div class="phone-info">
              <h4>
                For any enquiry, Email Us:
                <span>
                  <i class="fa fa-envelope"></i>
                  <a href="mailto:intervmate.official@gmail.com">intervmate.official@gmail.com</a>
                </span>
              </h4>
            </div>
          </div>
        </div>
        <div class="col-lg-6 wow fadeInRight" data-wow-duration="0.5s" data-wow-delay="0.25s">
          <form id="contact" action="" method="post">
            <div class="row">
              <div class="col-lg-12">
                <fieldset>
                  <input id="submit-email" type="text" name="email" id="email" pattern="[^ @]*@[^ @]*"
                    placeholder="Your Email" required="">
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <textarea id="submit-advice" name="message" type="text" class="form-control" id="message"
                    placeholder="Message" required=""></textarea>
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <button type="button" id="submit" class="main-button ">Send Message</button>
                </fieldset>
              </div>
            </div>
            <div class="contact-dec">
              <img src="assets/images/contact-decoration.png" alt="">
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class="video-wrapper">
    <center class="video-container">
      <iframe width="600" height="480" src="https://www.youtube.com/embed/gAOnZngHxEg?si=t42tlzW82GtlsgNA?autoplay=1"
        title="ì·¨ì—…ì¤€ë¹„ìƒ â€œì…ì‚¬ì‹œí—˜ ë¶ˆì‹ â€â€¦ì˜¤ì£½í•˜ë©´ AI ë©´ì ‘" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </center>
    <center class="credit">ì¶œì²˜: ì±„ë„A ë‰´ìŠ¤ ê³µì‹ YouTube ì±„ë„</center>
  </div>
  <div id="popup" style="display:none;">
    <h1>ê°ì‚¬í•©ë‹ˆë‹¤!</h1>
    <p>ì…ë ¥í•´ì£¼ì‹  ì´ë©”ì¼ë¡œ IntervMateì˜ ëŸ°ì¹­ ì†Œì‹ì„ ê°€ì¥ ë¨¼ì € ì•Œë ¤ë“œë¦´ê²Œìš”.
      ì—¬ëŸ¬ë¶„ì˜ ê´€ì‹¬ì´ ì €í¬ì—ê²Œ í° í˜ì´ ë©ë‹ˆë‹¤.</p>
  </div>
  <style>
    .video-wrapper {
      text-align: center;
      /* âœ… ë‚´ë¶€ ìš”ì†Œë¥¼ ìˆ˜í‰ ì¤‘ì•™ì •ë ¬ */
    }

    .video-container {
      aspect-ratio: 16 / 9;
      /* âœ… ìë™ ë¹„ìœ¨ ìœ ì§€ */
      max-width: 800px;
      margin: 0 auto;
      border-radius: 10px;
      overflow: hidden;
    }

    .video-container iframe {
      width: 70%;
      height: 70%;
    }
  </style>
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12 wow fadeIn" data-wow-duration="1s" data-wow-delay="0.25s">
          <p>Â© Copyright IntervMate. All Rights Reserved.
          </p>
        </div>
      </div>
    </div>
  </footer>
  <!-- Scripts -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/animation.js"></script>
  <script src="assets/js/imagesloaded.js"></script>
  <script src="assets/js/templatemo-custom.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script type="application/javascript">
    var ip = "null";
    function getIP(json) {
      console.log(json);
      try {
        ip = json.ip;
      } catch (e) {
        ip = 'unknown';
      }
      return;
    }
  </script>
  <script type="application/javascript" src="https://jsonip.com?format=jsonp&callback=getIP"></script>
  <script src="https://cdn.jsdelivr.net/gh/dinoqqq/simple-popup@master/dist/jquery.simple-popup.min.js"></script>

  <script>
    // ì¿ í‚¤ì—ì„œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
    function getCookieValue(name) {
      const value = "; " + document.cookie;
      const parts = value.split("; " + name + "=");
      if (parts.length === 2) {
        return parts.pop().split(";").shift();
      }
    }

    // ì¿ í‚¤ì— ê°’ì„ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
    function setCookieValue(name, value, days) {
      let expires = "";
      if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toUTCString();
      }
      document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function getUVfromCookie() {
      // 6ìë¦¬ ì„ì˜ì˜ ë¬¸ìì—´ ìƒì„±
      const hash = Math.random().toString(36).substring(2, 8).toUpperCase();
      // ì¿ í‚¤ì—ì„œ ê¸°ì¡´ í•´ì‹œ ê°’ì„ ê°€ì ¸ì˜´
      const existingHash = getCookieValue("user");
      // ê¸°ì¡´ í•´ì‹œ ê°’ì´ ì—†ìœ¼ë©´, ìƒˆë¡œìš´ í•´ì‹œ ê°’ì„ ì¿ í‚¤ì— ì €ì¥
      if (!existingHash) {
        setCookieValue("user", hash, 180); // ì¿ í‚¤ ë§Œë£Œì¼ì€ 6ê°œì›” 
        return hash;
      } else {
        // ê¸°ì¡´ í•´ì‹œ ê°’ì´ ìˆìœ¼ë©´, ê¸°ì¡´ ê°’ì„ ë°˜í™˜
        return existingHash;
      }
    }

    /* ìˆ˜ì • payload data -> id:getUVfromCookie() */
    function padValue(value) {
      return (value < 10) ? "0" + value : value;
    }

    function getTimeStamp() {
      const date = new Date();

      const year = date.getFullYear();
      const month = date.getMonth() + 1;
      const day = date.getDate();
      const hours = date.getHours();
      const minutes = date.getMinutes();
      const seconds = date.getSeconds();

      const formattedDate = `${padValue(year)}-${padValue(month)}-${padValue(day)} ${padValue(hours)}:${padValue(minutes)}:${padValue(seconds)}`;

      return formattedDate;
    }

    var queryString = location.search;
    const urlParams = new URLSearchParams(queryString);
    const utm = urlParams.get("utm")

    var mobile = 'desktop';
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
      // true for mobile device
      mobile = 'mobile';
    }

    /* dataë¥¼ ë§Œë“¤ ë• ëª¨ë“  fieldê°€ ë“¤ì–´ ìˆì–´ì•¼ í•¨ */
    var data = JSON.stringify({
      "id": getUVfromCookie(),
      "landingUrl": window.location.href,
      "ip": ip,
      "referer": document.referrer,
      "time_stamp": getTimeStamp(),
      "utm": utm,
      "device": mobile
    }
    );

    $(document).ready(function () {

      // addrScript = 'https://script.google.com/macros/s/AKfycbwU5J1qRVNcAroGIOhSCS2tMMsGYsToMD9Bx3PZ-WaHw9U9xDaSln9CdkYBfXBS2I2J/exec';

      /*$.ajax({
        url: addrScript + '?action=insert&table=visitors&data=' + data,
        dataType: 'jsonp',
        success: function (data) {
          console.log('ì„±ê³µ - ', JSON.stringify(data));
        },
        error: function (xhr) {
          console.log('ì‹¤íŒ¨ - ', JSON.stringify(xhr));
        }
      }); */
      axios.get(addrScript + '?action=insert&table=tab_master&data=' + data)
        .then(response => {
          console.log(JSON.stringify(response));
        })

      $("#submit").on("click", function () {
        const email = $("#submit-email").val();
        const advice = $("#submit-advice").val();

        function validateEmail(email) {
          var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
          return re.test(email);
        }

        if (email == '' || !validateEmail(email)) {
          alert("ì´ë©”ì¼ì´ ìœ íš¨í•˜ì§€ ì•Šì•„ ì•Œë¦¼ì„ ë“œë¦´ ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤. ");
          return;
        }

        var finalData = JSON.stringify({
          "id": getUVfromCookie(),
          "email": email,
          "advice": advice
        })

        axios.get(addrScript + '?action=insert&table=tab_final&data=' + finalData)
          .then(response => {
            console.log(response.data.data);
            $('#submit-email').val('');
            $('#submit-advice').val('');
            //$.busyLoadFull("hide");
            $.fn.simplePopup({ type: "html", htmlSelector: "#popup" });
          })
      });
    });


  </script>


  <script>
    let currentPersona = 'neutral';
    let recognition;
    let isInterviewing = false;
    let chatHistory = [];
    let candidateInfo = "";   // ğŸ”¥ ì§€ì›ì ì •ë³´ ì €ì¥ìš©

    function updateCandidateInfoFromForm() {
      // input/textareaê°€ ì—†ì„ ë•Œ ì—ëŸ¬ ì•ˆ ë‚˜ê²Œ ? ì¨ì¤Œ
      const roleEl = document.getElementById('candidateRole');
      const introEl = document.getElementById('candidateIntro');

      const role = roleEl ? roleEl.value.trim() : "";
      const intro = introEl ? introEl.value.trim() : "";

      let info = "";
      if (role) {
        info += `ì§€ì› ì§ë¬´: ${role}\n`;
      }
      if (intro) {
        info += `ìê¸°ì†Œê°œ/ì£¼ìš” ê²½í—˜: ${intro}`;
      }

      candidateInfo = info;   // ì „ì—­ ë³€ìˆ˜ì— ìµœì‹  ìƒíƒœ ì €ì¥
    }

    // Persona Selection
    function setPersona(persona, btn) {
      currentPersona = persona;
      // Update UI
      document.querySelectorAll('.persona-selector .btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      addToChatLog('System', `Persona changed to: ${persona}`);
    }

    // Initialize Speech Recognition
    recognition = new webkitSpeechRecognition();
    recognition.continuous = true;      // ğŸ”¥ ëŠê¸°ì§€ ì•Šê²Œ ê³„ì† ë“£ê¸°
    recognition.lang = 'ko-KR';
    recognition.interimResults = true;  // ì¤‘ê°„ ê²°ê³¼ë„ ë°›ê¸°

    recognition.onresult = function (event) {
      let finalChunk = "";
      let interimChunk = "";

      for (let i = event.resultIndex; i < event.results.length; i++) {
        const t = event.results[i][0].transcript;
        if (event.results[i].isFinal) {
          finalChunk += t;
        } else {
          interimChunk += t;
        }
      }

      // ìµœì¢… ì¸ì‹ëœ ë¬¸ì¥ì€ ë²„í¼ì— ìŒ“ì•„ë‘ê¸°
      if (finalChunk) {
        if (!pendingSpeech) {
          speechStartTime = Date.now();
        }
        pendingSpeech += " " + finalChunk;
        pendingSpeech = pendingSpeech.trim();
      }

    };
    function commitVoiceAnswer() {
      const text = pendingSpeech.trim();
      if (!text) {
        addToChatLog('System', 'ğŸ™ ì•„ì§ ìŒì„±ìœ¼ë¡œ ì¸ì‹ëœ ë‹µë³€ì´ ì—†ìŠµë‹ˆë‹¤.');
        return;
      }

      addToChatLog('You', text);
      analyzeSpeechSpeed(text);   // ì†ë„ ë¶„ì„ ìœ ì§€í•˜ê³  ì‹¶ìœ¼ë©´
      sendToAI(text);

      pendingSpeech = "";         // ë‹¤ìŒ ë‹µë³€ì„ ìœ„í•´ ë²„í¼ ë¹„ìš°ê¸°
      speechStartTime = null;     // ğŸ”¥ í•œ ë‹µë³€ì— ëŒ€í•œ ì¸¡ì • ë
    }
    async function startInterview() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
        document.getElementById('userVideo').srcObject = stream;


        // âœ… hidden canvas ì´ˆê¸°í™”
        videoCanvas = document.createElement('canvas');
        videoCanvas.width = 320;   // ë¶„ì„ìš©ì´ë¼ ì‘ê²Œ
        videoCanvas.height = 180;
        videoCtx = videoCanvas.getContext('2d');
        startBrightnessMonitor();



        isInterviewing = true;
        document.getElementById('startBtn').style.display = 'none';
        document.getElementById('stopBtn').style.display = 'inline-block';

        addToChatLog('System', 'Interview started. Please say "ì•ˆë…•í•˜ì„¸ìš”" to begin.');

        // Start listening
        recognition.start();

      } catch (err) {
        console.error("Error accessing media devices:", err);
        alert("Could not access camera/microphone. Please allow permissions.");
      }
    }

    function stopInterview() {
      isInterviewing = false;
      recognition.stop();



      if (brightnessTimer) {
        clearInterval(brightnessTimer);
        brightnessTimer = null;
      }


      const stream = document.getElementById('userVideo').srcObject;
      if (stream) {
        stream.getTracks().forEach(track => track.stop());
      }
      document.getElementById('userVideo').srcObject = null;

      document.getElementById('startBtn').style.display = 'inline-block';
      document.getElementById('stopBtn').style.display = 'none';
      setAIStatus('idle');
    }

    async function sendToAI(userText) {
      // Stop listening while AI thinks/speaks
      // recognition.stop(); // Already stopped by continuous=false
      updateCandidateInfoFromForm();

      try {
        setAIStatus('thinking');
        const response = await axios.post(
          CHAT_API_URL,
          JSON.stringify({
            user_message: userText,
            persona: currentPersona,
            history: chatHistory,
            candidate_info: candidateInfo
          }),
          {
            headers: {
              'Content-Type': 'text/plain'
            }
          }
        );

        console.log("AI Response:", response.data);

        const aiText = response.data.ai_message;
        addToChatLog('AI', aiText);

        // Update History
        chatHistory.push({ role: "user", content: userText });
        chatHistory.push({ role: "assistant", content: aiText });

        // Speak
        // speak(aiText);
        await speak(aiText);

      } catch (error) {
        console.error("API Error:", error);
        addToChatLog('System', 'Error communicating with AI.');
        setAIStatus('idle');
        // Resume listening even if error
        if (isInterviewing) recognition.start();
      }
    }


    async function speak(text) {
      try {
        // ìƒíƒœ í‘œì‹œ (ì›í•˜ë©´)
        document.getElementById('aiSpeakingIndicator').style.display = 'block';
        setAIStatus('speaking');

        const res = await axios.post(
          CHAT_API_URL,
          JSON.stringify({
            mode: "tts",      // ğŸ”¥ TTS ëª¨ë“œì„ì„ ëª…ì‹œ
            tts_text: text    // ì½ì–´ ì¤„ ë¬¸ì¥
          }),
          {
            headers: {
              'Content-Type': 'text/plain'
            }
          }
        );

        const data = res.data;
        if (!data.audio_b64) {
          console.error("No audio_b64 in response:", data);

          setAIStatus('idle');
          document.getElementById('aiSpeakingIndicator').style.display = 'none';
          return;
        }

        const audioSrc = `data:${data.mime || 'audio/mpeg'};base64,${data.audio_b64}`;
        const audio = new Audio(audioSrc);

        audio.onended = () => {
          document.getElementById('aiSpeakingIndicator').style.display = 'none';

          if (isInterviewing) {
            setAIStatus('listening');
            try {
              recognition.start();
            } catch (e) {
              console.log("Recognition restart error:", e);
              setAIStatus('idle');
            }
          }
        };

        audio.play();
      } catch (err) {
        console.error("TTS Error:", err);
        document.getElementById('aiSpeakingIndicator').style.display = 'none';
        setAIStatus('idle');
        // ì—¬ê¸°ì„œë„ ì›í•˜ë©´ ë¸Œë¼ìš°ì € ê¸°ë³¸ TTSë¡œ fallback ê°€ëŠ¥
      }
    }

    function addToChatLog(sender, text) {
      const log = document.getElementById('chatLog');
      const p = document.createElement('p');
      p.innerHTML = `<strong>${sender}:</strong> ${text}`;
      p.style.marginBottom = "5px";
      if (sender === 'You') p.style.color = "#007bff";
      if (sender === 'AI') p.style.color = "#28a745";
      if (sender === 'System') p.style.color = "#6c757d";

      log.appendChild(p);
      // log.scrollTop = log.scrollHeight;
      log.parentElement.scrollTop = log.parentElement.scrollHeight;

    }
  </script>
  <script>
    document.getElementById("textInput").addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        e.preventDefault();   // í¼ ì œì¶œ ê°™ì€ ê¸°ë³¸ ë™ì‘ ë°©ì§€
        sendTextChat();       // ì§ì ‘ ì „ì†¡
      }
    });
    async function sendTextChat() {

      updateCandidateInfoFromForm();

      const input = document.getElementById('textInput');
      const userText = input.value.trim();
      if (userText === "") return;

      // í™”ë©´ì— í‘œì‹œ
      addToChatLog('You', userText);

      try {
        const response = await axios.post(
          CHAT_API_URL,
          JSON.stringify({
            user_message: userText,
            persona: currentPersona,
            history: chatHistory,
            candidate_info: candidateInfo
          }),
          {
            headers: {
              'Content-Type': 'text/plain'   // âœ… preflight í”¼í•˜ë ¤ê³  text/plain ì‚¬ìš©
            }
          }
        );
        console.log("AI Response:", response.data);

        const aiText = response.data.ai_message;
        addToChatLog('AI', aiText);

        // history ì—…ë°ì´íŠ¸
        chatHistory.push({ role: "user", content: userText });
        chatHistory.push({ role: "assistant", content: aiText });

        input.value = "";
        await speak(aiText);
      } catch (err) {
        console.error(err);
        addToChatLog('System', "API Error: " + err);
      }
      finally {
        input.value = "";
        input.focus();
      }
    }
  </script>
  <script>
    function setAIStatus(mode) {
      const dot = document.getElementById('aiStatusDot');
      const text = document.getElementById('aiStatusText');
      if (!dot || !text) return;

      if (mode === 'idle') {
        text.textContent = 'ëŒ€ê¸° ì¤‘';
        dot.style.background = '#ccc';
      } else if (mode === 'listening') {
        text.textContent = 'ë‹¹ì‹ ì˜ ë§ì„ ë“£ëŠ” ì¤‘';
        dot.style.background = '#007bff';
      } else if (mode === 'thinking') {
        text.textContent = 'ìƒê° ì¤‘ (ì‘ë‹µ ìƒì„± ì¤‘)';
        dot.style.background = '#ffc107';
      } else if (mode === 'speaking') {
        text.textContent = 'AIê°€ ë§í•˜ëŠ” ì¤‘';
        dot.style.background = '#28a745';
      }
    }

    window.addEventListener('load', () => {
      setAIStatus('idle');
    });
  </script>


</body>
<style>
  /* ì¸í„°ë·° ë°ëª¨ ë ˆì´ì•„ì›ƒ ì¡°ì • */
  #demo .video-area {
    display: flex;
    flex-direction: column;
    /* ìœ„: ì¹´ë©”ë¼ / ì•„ë˜: ë²„íŠ¼+ë¡œê·¸ */
    align-items: center;
  }

  #demo .video-box {
    max-width: 640px;
    margin: 0 auto;
  }

  #userVideo {
    width: 100%;
    max-width: 640px;
    /* ê°€ë¡œ í¬ê¸° ì œí•œ */
    max-height: 360px;
    /* ì„¸ë¡œ í¬ê¸° ì œí•œ (ëŒ€ì¶© 16:9) */
    object-fit: cover;
  }

  /* AI ìƒíƒœ í‘œì‹œ */
  .ai-status {
    font-size: 14px;
    color: #666;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    margin-bottom: 10px;
  }

  #aiStatusDot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #ccc;
    /* ê¸°ë³¸: ëŒ€ê¸° */
  }
</style>

</html>